<aura:component description="ZK_ProductImages" implements="flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId, forceCommunity:availableForAllPageTypes" controller="ZK_ProductController">

    <aura:attribute name="images" type="String[]"/>
    <aura:attribute name="currentImage" type="String"/>
    <aura:attribute name="currentIndex" type="Integer" default="0"/>

    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

    <lightning:card>
        <h2 class="slds-text-heading_small slds-m-left_medium slds-m-bottom_medium">
            {! $Label.c.ZK_ProductGallery}
        </h2>

        <div style="{!'background-image: url(\'/sfc/servlet.shepherd/document/download/' + v.currentImage + '\');height: 300px;'}"
             class="bg-image slds-is-relative slds-grid slds-grid_vertical-align-center">
            <div class="slds-grid slds-is-absolute slds-size_1-of-1 slds-p-around_medium">
                <div class="slds-col slds-text-align_left pointer" onclick="{!c.previousImage}">
                    <lightning:icon iconName="utility:chevronleft" size="small"/>
                </div>
                <div class="slds-col slds-text-align_right pointer" onclick="{!c.nextImage}">
                    <lightning:icon iconName="utility:chevronright" size="small"/>
                </div>
            </div>
        </div>

        <div class="slds-grid slds-wrap slds-m-around_small slds-align_absolute-center">
            <aura:iteration items="{!v.images}" var="image">
                <div id="{!image}"
                     style="{!'background-image: url(\'/sfc/servlet.shepherd/document/download/' + image + '\');height: 50px;'}"
                     class="bg-image slds-size_2-of-12 pointer slds-m-right_x-small "
                     onclick="{!c.selectImage}">

                    <aura:if isTrue="{!v.currentImage == image}">
                        <div style="width: 100%; height: 100%; background-color: rgba(255,255,255,0.8)">
                        </div>
                    </aura:if>
                </div>

            </aura:iteration>
        </div>


    </lightning:card>


</aura:component>
