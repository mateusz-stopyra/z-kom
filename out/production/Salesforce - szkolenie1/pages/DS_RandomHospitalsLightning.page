<apex:page id="DS_RandomHospitalsLightning"
           controller="DS_RandomHospitalsController"
           docType="html-5.0"
           sidebar="false"
           showHeader="false"
           applyBodyTag="false"
           lightningStylesheets="true">
    <html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;"/>
    </head>

    <apex:slds />
    <apex:includeLightning />

    <style type="text/css">

        @media only screen and (max-width: 575px) {
            #hospitals-wrapper {
                padding: 0 1%;
                width: 100%;
            }
        }

        @media only screen and (min-width: 575px) {
            #hospitals-wrapper {
                margin: 0 25%;
                width: auto;
            }

        }

        #hospitals-wrapper {
            margin-top: 5%;
        }

        .header-bg-col {
            background-color: #fafaf9;
        }



    </style>

    <div class="slds-scope slds-tabs_default">
        <ul class="slds-tabs_default__nav" role="tablist">
            <li onclick="showTab('tab-default-1','tab-default-2', 'tab-item-1', 'tab-item-2')" id="tab-item-1"
                class="slds-tabs_default__item slds-is-active" title="Item One" role="presentation">
                <a class="slds-tabs_default__link" href="#" role="tab" tabindex="0" aria-selected="true"
                   aria-controls="tab-default-1" id="tab-default-1__item">Contact Us</a>
            </li>

            <li onclick="showTab('tab-default-2','tab-default-1', 'tab-item-2', 'tab-item-1')" id="tab-item-2"
                class="slds-tabs_default__item" title="Item Two" role="presentation">
                <a class="slds-tabs_default__link" href="#" role="tab" tabindex="-1" aria-selected="false"
                   aria-controls="tab-default-2" id="tab-default-2__item"> Random Hospitals </a>
            </li>
        </ul>

        <div id="tab-default-2" class="slds-tabs_default__content slds-show slds-hide" role="tabpanel"
             aria-labelledby="tab-default-2__item">

            <div id="hospitals-wrapper"
                 class="slds-grid slds-m-top_medium">

                <div class="slds-col slds-large-size_1-of-4"></div>

                <div class="slds-col slds-panel slds-box slds-large-size_1-of-2 slds-small-size--1-of-2 slds-grid_align-center">
                    <apex:form styleClass="slds-form">

                        <div class="slds-section slds-is-open slds-size_1-of-1">

                        <h3 class="slds-section__title">
                                <button aria-controls="expando-unique-id" aria-expanded="true" onclick="return false"
                                        class="slds-button slds-section__title-action">
                                    <span class="slds-truncate"
                                          title="Section Title"> Doctors Service's Hospitals </span>
                                </button>
                            </h3>

                            <div aria-hidden="false" class="slds-section__content" id="expando-unique-id"
                                 style="overflow-x: scroll">

                                <apex:dataTable styleClass="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped slds-cell-wrap"
                                        headerClass="slds-line-height_reset slds-truncate header-bg-col"
                                        columnClasses="slds-truncate \"
                                        id="hospitalsTable"
                                        value="{!hospitals}"
                                        var="hospital">

                                    <apex:column >
                                        <apex:facet name="header"><span class="slds-cell-wrap">Name</span></apex:facet>
                                            {!hospital.Name}
                                    </apex:column>

                                    <apex:column >
                                        <apex:facet name="header"><span class="slds-cell-wrap">Address</span>
                                        </apex:facet>
                                            {!hospital.Street__c} {!hospital.Postal_Code__c} {!hospital.City__c} {!hospital.Country__c}
                                    </apex:column>

                                    <apex:column >
                                        <apex:facet name="header"><span
                                                class="slds-cell-wrap">Number of ambulances</span>
                                        </apex:facet>
                                            {!hospital.No_Ambulances__c}
                                    </apex:column>

                                    <apex:column >
                                        <apex:facet name="header"><span class="slds-cell-wrap">Helicopter Access</span>
                                        </apex:facet>

                                        <div class="slds-form-element">
                                            <div class="slds-form-element__control">
                                                <div class="slds-checkbox">
                                                    <apex:inputCheckbox value="{!hospital.Helicopter_Access__c}"
                                                                        onChange="event.stopPropagation()"/>
                                                    <label class="slds-checkbox__label" for="checkbox-unique-id-76">
                                                        <span class="slds-checkbox_faux"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                    </apex:column>

                                    <apex:column styleClass="slds-cell-wrap">
                                        <apex:facet name="header"><span class="slds-cell-wrap">Parent Unit Name</span>
                                        </apex:facet>
                                            {!IF(hospital.Parent_Unit__r.Name==null,'-', hospital.Parent_Unit__r.Name)}
                                    </apex:column>

                                </apex:dataTable>

                            </div>
                        </div>
                    </apex:form>
                </div>
                <div class="slds-col slds-large-size_1-of-4"></div>

            </div>
        </div>
        <div id="tab-default-1" class="slds-tabs_default__content" role="tabpanel"
             aria-labelledby="tab-default-1__item">

            <div id="toast" class="slds-is-fixed slds-size_1-of-1 slds-hidden" style="z-index: 1000;">
                <div class="demo-only" style="height:4rem;">
                    <div class="slds-notify_container slds-is-relative">
                        <div class="slds-notify slds-notify_toast slds-theme_success" role="status">
                            <span class="slds-assistive-text">success</span>
                            <span class="slds-icon_container slds-icon-utility-success slds-m-right_small slds-no-flex slds-align-top"
                                  title="Description of icon when needed"></span>
                            <div class="slds-notify__content">
                                <h2 id="toast-val" class="slds-text-heading_small ">Thank you for contacting us. Your request has been sent.</h2>
                            </div>
                            <div class="slds-notify__close">
                                <button class="slds-button slds-button_icon slds-button_icon-inverse" title="Close">

                                    <span class="slds-assistive-text">Close</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="slds-grid_vertical slds-grid_vertical-align-center">

                <form action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8"
                      method="POST" class="slds-size_1-of-1">

                    <div class="slds-grid slds-grid_vertical slds-grid_vertical-align-center">
                        <apex:image id="theImage" value="{!$Resource.zkom}" width="200" height="200" alt="Description of image here"/>
                        <h2 class="slds-text-heading_medium"> Contact Us </h2>

                        <div>
                            <input type="hidden" name="oid" value="00D09000007ktBU" />
                            <input type="hidden" name="retURL"
                                   value="https://ms-britenet-developer-edition.eu40.force.com?thanks=true"/>
                        </div>

                        <div class="slds-size_1-of-5 slds-form-element slds-m-top_small">
                            <label class="slds-form-element__label" for="text-input-id-1">
                                <abbr class="slds-required" title="required">* </abbr>First Name</label>
                            <div class="slds-form-element__control">
                                <input type="text" name="first_name"
                                       id="text-input-id-1" placeholder="First Name…"
                                       maxlength="40"
                                       required="required"
                                       class="slds-input"/>
                            </div>
                        </div>

                        <div class="slds-size_1-of-5 slds-form-element slds-m-top_small">
                            <label class="slds-form-element__label" for="last_name">
                                <abbr class="slds-required" title="required">* </abbr>Last Name</label>
                            <div class="slds-form-element__control">
                                <input type="text" name="last_name"
                                       id="last_name" placeholder="Last Name…"
                                       maxlength="40"
                                       required="required"
                                       class="slds-input"/>
                            </div>
                        </div>

                        <div class="slds-size_1-of-5 slds-form-element slds-m-top_small">
                            <label class="slds-form-element__label" for="email">
                                <abbr class="slds-required" title="required">* </abbr>Email</label>
                            <div class="slds-form-element__control">
                                <input type="email" name="email"
                                       id="email" placeholder="Email…"
                                       maxlength="40"
                                       required="required"
                                       class="slds-input"/>
                            </div>
                        </div>

                        <div class="slds-size_1-of-5 slds-form-element slds-m-top_small">
                            <label class="slds-form-element__label" for="phone">Phone</label>
                            <div class="slds-form-element__control">
                                <input type="text" name="phone"
                                       id="email" placeholder="Phone Number…"
                                       maxlength="40"
                                       class="slds-input"/>
                            </div>
                        </div>

                        <div class="slds-size_1-of-5 slds-form-element slds-m-top_small">
                            <label class="slds-form-element__label" for="company">Company</label>
                            <div class="slds-form-element__control">
                                <input type="text" name="company"
                                       id="company" placeholder="Company…"
                                       maxlength="40"
                                       class="slds-input"/>
                            </div>
                        </div>

                        <div class="slds-size_1-of-5 slds-form-element slds-m-top_small">
                            <label class="slds-form-element__label" for="city">
                                <abbr class="slds-required" title="required">* </abbr>City</label>
                            <div class="slds-form-element__control">
                                <input type="text" name="city"
                                       id="city" placeholder="City…"
                                       maxlength="40"
                                       required="required"
                                       class="slds-input"/>
                            </div>
                        </div>

                        <div class="slds-size_1-of-5 slds-form-element slds-m-top_small">
                            <label class="slds-form-element__label" for="state">
                                <abbr class="slds-required" title="required">* </abbr>State/Province</label>
                            <div class="slds-form-element__control">
                                <input type="text" name="state"
                                       id="state" placeholder="State or province..."
                                       maxlength="40"
                                       required="required"
                                       class="slds-input"/>
                            </div>
                        </div>

                        <div class="slds-size_1-of-5 slds-form-element slds-m-top_small">
                            <label class="slds-form-element__label" for="state">Interest Type</label>
                            <div class="slds-select_container">
                                <select class="slds-select"  id="00N0900000DWed0" name="00N0900000DWed0" title="InterestType">
                                    <option value="">--None--</option>
                                    <option value="Gaming">Gaming</option>
                                    <option value="Home">Home</option>
                                    <option value="Business">Business</option>
                                    <option value="Enterprise">Enterprise</option>
                                    <option value="Educational">Educational</option>
                                    <option value="Multimedia">Multimedia</option>
                                </select>
                            </div>
                        </div>


                        <div class="slds-col slds-m-top_medium">
                            <input class="slds-button slds-button_brand" value="Send" onsubmit="showToast()" type="submit" name="submit"/>
                        </div>
                    </div>
                </form>


            </div>

        </div>

    </div>

    <script type="text/javascript">

        function showTab(showTab, hideTab, activate, deactivate) {
            document.getElementById(showTab).classList.add('slds-show');
            document.getElementById(showTab).classList.remove('slds-hide');

            document.getElementById(hideTab).classList.add('slds-hide');
            document.getElementById(showTab).classList.remove('slds-show');

            document.getElementById(activate).classList.add('slds-is-active');
            document.getElementById(deactivate).classList.remove('slds-is-active');
        }



                function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.remove('slds-hidden');
        }

        function hideToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('slds-hidden');
        }

                function init() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const thanks = urlParams.get('thanks');

            if (thanks) {
//                showTab('tab-default-2','tab-default-1', 'tab-item-2', 'tab-item-1');
                showToast('slds-theme_success', 'Thank you for contacting us. Your request has been sent succesfully.');
                setTimeout(function() { hideToast(); }, 3000);
            }
        }

        init();




    </script>

    </html>
</apex:page>